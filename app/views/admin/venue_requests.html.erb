<% content_for :title, "All Venue Requests - Admin" %>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>All Venue Requests</h2>
    <%= link_to "← Dashboard", admin_dashboard_path, class: "btn btn-outline-secondary" %>
  </div>

  <!-- Filters -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <h6>Filter by Status:</h6>
          <div class="btn-group">
            <%= link_to "All", admin_venue_requests_path, 
                class: "btn #{'btn-primary' if params[:status].blank?} #{'btn-outline-primary' unless params[:status].blank?}" %>
            <%= link_to "Pending", admin_venue_requests_path(status: :pending), 
                class: "btn #{'btn-warning' if params[:status] == 'pending'} #{'btn-outline-warning' unless params[:status] == 'pending'}" %>
            <%= link_to "Approved", admin_venue_requests_path(status: :approved), 
                class: "btn #{'btn-success' if params[:status] == 'approved'} #{'btn-outline-success' unless params[:status] == 'approved'}" %>
            <%= link_to "Rejected", admin_venue_requests_path(status: :rejected), 
                class: "btn #{'btn-danger' if params[:status] == 'rejected'} #{'btn-outline-danger' unless params[:status] == 'rejected'}" %>
          </div>
        </div>
        <div class="col-md-6">
          <h6>Filter by Type:</h6>
          <div class="btn-group">
            <%= link_to "All Types", admin_venue_requests_path, 
                class: "btn #{'btn-info' if params[:type].blank?} #{'btn-outline-info' unless params[:type].blank?}" %>
            <%= link_to "New Venues", admin_venue_requests_path(type: 'new_venue'), 
                class: "btn #{'btn-info' if params[:type] == 'new_venue'} #{'btn-outline-info' unless params[:type] == 'new_venue'}" %>
            <%= link_to "Ownership Claims", admin_venue_requests_path(type: 'existing_venue_claim'), 
                class: "btn #{'btn-info' if params[:type] == 'existing_venue_claim'} #{'btn-outline-info' unless params[:type] == 'existing_venue_claim'}" %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Use the same venue requests cards from the VenueRequestsController index -->
  <%= render 'venue_requests/requests_list', venue_requests: @venue_requests %>
</div>
