<% if user_signed_in? %>
  <% follow = current_user.artist_follows.find_by(artist_id: artist.id) %>

  <% if follow %>
    <%= button_to "Unfollow", artist_follow_path(follow),
          method: :delete,
          class: "btn btn-outline-danger btn-sm",
          data: { turbo_confirm: "Are you sure?" } %>
  <% else %>
    <%= button_to "Follow", artist_follows_path(artist_id: artist.id),
          method: :post,
          class: "btn btn-success btn-sm" %>
  <% end %>
<% else %>
  <%= link_to "Sign in to follow this artist", login_path,
        class: "btn btn-outline-primary btn-sm" %>
<% end %>
