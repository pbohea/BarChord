<% require 'rqrcode' %>
<% require 'rqrcode_svg' %>

<% qr = RQRCode::QRCode.new("https://apps.apple.com/us/app/your-app-placeholder/id123456789") %>

<style>
  @media print {
    .no-print {
      display: none !important;
    }
    
    /* Hide browser headers and footers */
    @page {
      margin: 0;
      size: auto;
    }
    
    body {
      margin: 0;
      padding: 20px;
      -webkit-print-color-adjust: exact;
      color-adjust: exact;
    }
    
    /* Hide any potential browser UI elements */
    html, body {
      background: white !important;
    }
  }

  .qr-wrapper {
    display: flex;
    justify-content: center;
    width: 100%;
  }

  .qr-wrapper svg {
    width: 80vw;
    max-width: 600px;
    height: auto;
  }
</style>

<div class="container py-4 text-center">
  <div class="no-print mb-3">
    <button onclick="window.print()" class="btn btn-primary">
      Print Flyer
    </button>
  </div>

  <h1 class="fw-bold mb-3 text-primary"><%= @artist.username %> </h1>
  <h2 class="fw-bold mb-3">Find Me on BarChord!</h2>
  <p class="lead mb-4">Scan the QR code to download the app</p>
  
  <div class="d-flex justify-content-center">
    <div class="text-center">
      <%= raw qr.as_svg(module_size: 10, standalone: true) %>
    </div>
  </div>
</div>
