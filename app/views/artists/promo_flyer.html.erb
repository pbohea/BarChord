<style>
  @media print {
    .no-print {
      display: none !important;
    }

    /* Hide browser headers and footers */
    @page {
      margin: 0;
      size: auto;
    }

    body {
      margin: 0;
      padding: 20px;
      -webkit-print-color-adjust: exact;
      color-adjust: exact;
    }

    /* Hide any potential browser UI elements */
    html, body {
      background: white !important;
    }
  }

  .logo-text {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
  }

  .tiny-logo {
    height: 32px;
    width: auto;
    vertical-align: middle;
  }

  .qr-wrapper {
    display: flex;
    justify-content: center;
    width: 100%;
  }

  .qr-wrapper svg {
    width: 80vw;
    max-width: 400px;
    height: auto;
  }

  /* Mobile-specific adjustments */
  @media (max-width: 768px) {
    .tiny-logo {
      height: 24px;
    }
    
    h1 {
      font-size: 1.5rem;
    }
    
    h2 {
      font-size: 1.25rem;
    }

    .qr-wrapper svg {
      width: 90vw;
      max-width: 300px;
    }
  }
</style>

<div class="container py-4 text-center">
  
    <div class="no-print mb-3">
    <% if defined?(turbo_native_app?) && turbo_native_app? %>
      <!-- Hide print button in app -->
    <% else %>
      <button onclick="window.print()" class="btn btn-primary">
        Print Flyer
      </button>
    <% end %>
  </div>

  <% if @artist %>
    <h1 class="fw-bold mb-3 text-primary"><%= @artist.username %></h1>
    
    <h2 class="fw-bold mb-3 logo-text">
      Find Me on BarChord
      <img src="/logoplain.png" alt="BarChord" class="tiny-logo">
    </h2>

    <p class="lead mb-4">Scan the QR code to download the app</p>

    <div class="qr-wrapper">
      <div class="text-center">
        <% if @qr_code %>
          <%= raw @qr_code.as_svg(module_size: 8, standalone: true) %>
        <% else %>
          <div class="alert alert-warning">
            <i class="fas fa-exclamation-triangle me-2"></i>
            QR Code could not be generated
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="alert alert-danger">
      <h2>Error</h2>
      <p>Artist not found</p>
    </div>
  <% end %>
</div>
