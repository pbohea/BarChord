<div class="container my-4" style="max-width: 500px;">
  <div class="card shadow-sm">
    <div class="card-body text-center">

      <!-- Artist Image -->
      <% if @event.artist&.image&.attached? %>
        <%= link_to artist_path(@event.artist), data: { turbo_frame: "_top" } do %>
          <%= image_tag @event.artist.image.variant(resize_to_fill: [120, 120]),
                class: "rounded-circle mb-3 shadow",
                style: "object-fit: cover;" %>
        <% end %>
      <% else %>
        <div class="rounded-circle bg-secondary mb-3 d-flex align-items-center justify-content-center mx-auto" style="width: 120px; height: 120px; color: white;">
          <i class="fas fa-user fa-2x"></i>
        </div>
      <% end %>

      <!-- Artist Name -->
      <h5>
        <%= link_to @event.artist.username, artist_path(@event.artist),
              class: "text-decoration-none fw-bold text-dark",
              data: { turbo_frame: "_top" } %>
      </h5>

    </div>

    <!-- Event Details List -->
    <ul class="list-group list-group-flush mb-3">
      <li class="list-group-item">
        <strong>
          <%= link_to @event.venue.name, venue_path(@event.venue),
                class: "text-decoration-none",
                data: {
                  turbo_frame: "venue_modal_frame",
                  bs_toggle: "modal",
                  bs_target: "#venueModal"
                } %>
        </strong>
        <small class="text-muted d-block">(<%= @event.venue.category %>)</small>
      </li>

      <li class="list-group-item text-muted">
        <%= @event.category %>
      </li>

      <li class="list-group-item">
        <strong>Date:</strong> <%= @event.date.strftime("%A, %B %-d") %><br>
        <strong>Time:</strong>
        <%= @event.start_time.strftime("%-I:%M %p") %> â€“ <%= @event.end_time.strftime("%-I:%M %p") %>
      </li>

      <li class="list-group-item">
        <strong>Location:</strong> <%= @event.indoors? ? "Indoors" : "Outdoors" %>
      </li>

      <li class="list-group-item">
        <strong>Cover Charge:</strong>
        <%= @event.cover? ? number_to_currency(@event.cover_amount || 5) : "No Cover" %>
      </li>
    </ul>

    <div class="d-grid">
      <%= link_to "Go to event", @event.venue.website, class: "btn btn-primary", target: "_blank", rel: "noopener", data: { turbo: false } if @event.venue.website.present? %>
    </div>
  </div>
</div>

<!-- Venue Modal -->
<div class="modal fade" id="venueModal" tabindex="-1" aria-labelledby="venueModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <turbo-frame id="venue_modal_frame"></turbo-frame>
    </div>
  </div>
</div>
